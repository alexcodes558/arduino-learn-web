<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Lesson 2 – Buttons & Input (Extended)</title>
<style>
body { margin:0; font-family: system-ui, Arial, sans-serif; background:#0f172a; color:#e5e7eb; }
header { background:#020617; padding:25px; text-align:center; }
header h1 { margin:0; color:#38bdf8; }
.section { max-width:1000px; margin:auto; padding:25px; }
.card { background:#111827; border-radius:12px; padding:20px; margin-bottom:20px; }
h2 { color:#38bdf8; }
.code { background:#020617; padding:15px; border-radius:8px; font-family:monospace; color:#7dd3fc; }
.diagram { text-align:center; margin-bottom:20px; }
svg { width:100%; max-width:600px; border:1px solid #334155; border-radius:8px; background:#1e293b; }
.wire { stroke:#64748b; stroke-width:4; }
.wire.flow { stroke:#22c55e; stroke-width:6; }
.led-off { fill:#374151; }
.led-on { fill:red; filter: drop-shadow(0 0 10px red); }
.button-off { fill:#64748b; cursor:pointer; }
.button-on { fill:#22c55e; cursor:pointer; }
button { padding:10px 16px; margin-top:10px; font-size:16px; cursor:pointer; border-radius:6px; border:none; }
.tooltip { display:none; position:absolute; background:#1f2933; color:white; padding:8px; border-radius:6px; font-size:14px; }
.quiz button { margin:8px 0; padding:10px; width:100%; font-size:16px; cursor:pointer; border-radius:6px; border:none; }
.correct { background:#22c55e; color:black; }
.wrong { background:#ef4444; color:white; }
.hidden { display:none; }
.next { display:inline-block; margin-top:15px; padding:12px 18px; background:#38bdf8; color:#020617; text-decoration:none; border-radius:8px; font-weight:bold; }
</style>
</head>
<body>

<header>
<h1>Lesson 2: Buttons & Input (Extended)</h1>
</header>

<div class="section">

<!-- Concepts -->
<div class="card">
<h2>Concepts</h2>
<ul>
<li><b>Input vs Output:</b> Inputs read signals, outputs control components.</li>
<li><b>HIGH vs LOW:</b> HIGH = voltage present, LOW = 0V.</li>
<li><b>Pull-up/Pull-down resistors:</b> Prevent floating pins.</li>
<li><b>Button bouncing:</b> Rapid HIGH/LOW changes when pressing.</li>
<li>We will practice with multiple buttons and LEDs.</li>
</ul>
</div>

<!-- Demo 1: Single Button -->
<div class="card diagram">
<h2>Demo 1: Single Button → LED</h2>
<p>Click the button to turn the LED on/off. Hover pins to see tooltips.</p>
<svg viewBox="0 0 600 250">

<!-- Arduino -->
<rect x="20" y="60" width="100" height="80" rx="10" fill="#1f2933"/>
<text x="70" y="105" fill="white" text-anchor="middle">Arduino</text>

<!-- Button 1 -->
<rect id="btn1" x="200" y="60" width="40" height="20" rx="4" class="button-off"/>
<text x="220" y="55" fill="#9ca3af" text-anchor="middle">Button 1</text>

<!-- LED 1 -->
<circle id="led1" cx="200" cy="150" r="12" class="led-off"/>
<text x="200" y="170" fill="#9ca3af" text-anchor="middle">LED 1</text>

<!-- Wire -->
<line id="wire1" x1="220" y1="80" x2="200" y2="138" class="wire"/>
</svg>
<button onclick="pressButton(1)">Press / Release Button 1</button>
<p id="stateText1"></p>
</div>

<!-- Demo 2: Two Buttons OR Logic -->
<div class="card diagram">
<h2>Demo 2: Two Buttons → LED 1 (OR Logic)</h2>
<p>LED 1 lights if either button is pressed.</p>
<svg viewBox="0 0 600 250">
<!-- Arduino -->
<rect x="20" y="60" width="100" height="80" rx="10" fill="#1f2933"/>
<text x="70" y="105" fill="white" text-anchor="middle">Arduino</text>

<!-- Buttons -->
<rect id="btn2a" x="200" y="60" width="40" height="20" rx="4" class="button-off"/>
<text x="220" y="55" fill="#9ca3af" text-anchor="middle">Button 1</text>

<rect id="btn2b" x="260" y="60" width="40" height="20" rx="4" class="button-off"/>
<text x="280" y="55" fill="#9ca3af" text-anchor="middle">Button 2</text>

<!-- LED 1 -->
<circle id="led2" cx="230" cy="150" r="12" class="led-off"/>
<text x="230" y="170" fill="#9ca3af" text-anchor="middle">LED 1</text>

<!-- Wires -->
<line id="wire2a" x1="220" y1="80" x2="220" y2="138" class="wire"/>
<line id="wire2b" x1="280" y1="80" x2="240" y2="138" class="wire"/>
</svg>
<button onclick="pressTwoButtons()">Press / Release Buttons</button>
<p id="stateText2"></p>
</div>

<!-- Demo 3: Two Buttons AND Logic -->
<div class="card diagram">
<h2>Demo 3: Two Buttons → LED 2 (AND Logic)</h2>
<p>LED 2 lights only if both buttons are pressed.</p>
<svg viewBox="0 0 600 250">
<rect x="20" y="60" width="100" height="80" rx="10" fill="#1f2933"/>
<text x="70" y="105" fill="white" text-anchor="middle">Arduino</text>

<!-- Buttons -->
<rect id="btn3a" x="200" y="60" width="40" height="20" rx="4" class="button-off"/>
<text x="220" y="55" fill="#9ca3af" text-anchor="middle">Button 1</text>

<rect id="btn3b" x="260" y="60" width="40" height="20" rx="4" class="button-off"/>
<text x="280" y="55" fill="#9ca3af" text-anchor="middle">Button 2</text>

<!-- LED 2 -->
<circle id="led3" cx="240" cy="150" r="12" class="led-off"/>
<text x="240" y="170" fill="#9ca3af" text-anchor="middle">LED 2</text>

<!-- Wires -->
<line id="wire3a" x1="220" y1="80" x2="230" y2="138" class="wire"/>
<line id="wire3b" x1="280" y1="80" x2="250" y2="138" class="wire"/>
</svg>
<button onclick="pressThreeButtons()">Press / Release Buttons</button>
<p id="stateText3"></p>
</div>

<!-- Challenge: Drag Wires -->
<div class="card diagram">
<h2>Challenge: Drag Wires to Connect Components</h2>
<p>Drag virtual wires to connect buttons to LEDs. LED only lights if connected correctly.</p>
<svg viewBox="0 0 600 250" id="challengeSvg">
<!-- Arduino -->
<rect x="20" y="60" width="100" height="80" rx="10" fill="#1f2933"/>
<text x="70" y="105" fill="white" text-anchor="middle">Arduino</text>

<!-- Button -->
<rect id="btnC" x="200" y="60" width="40" height="20" rx="4" class="button-off"/>
<text x="220" y="55" fill="#9ca3af" text-anchor="middle">Button</text>

<!-- LED -->
<circle id="ledC" cx="300" cy="150" r="12" class="led-off"/>
<text x="300" y="170" fill="#9ca3af" text-anchor="middle">LED</text>

<!-- Wire placeholder -->
<line id="wireC" x1="220" y1="80" x2="300" y2="150" class="wire"/>
</svg>
<p>Drag wire endpoints (simulation placeholder for now)</p>
</div>

<!-- Code Section -->
<div class="card">
<h2>Code Example</h2>
<div class="code">
void setup() {<br>
&nbsp;&nbsp;pinMode(2, INPUT);<br>
&nbsp;&nbsp;pinMode(3, INPUT);<br>
&nbsp;&nbsp;pinMode(12, OUTPUT);<br>
&nbsp;&nbsp;pinMode(13, OUTPUT);<br>
}<br><br>
void loop() {<br>
&nbsp;&nbsp;if(digitalRead(2)==HIGH || digitalRead(3)==HIGH) digitalWrite(13,HIGH);<br>
&nbsp;&nbsp;if(digitalRead(2)==HIGH &amp;&amp; digitalRead(3)==HIGH) digitalWrite(12,HIGH);<br>
&nbsp;&nbsp;else digitalWrite(12,LOW);<br>
}
</div>
</div>

<!-- Quiz -->
<div class="card quiz">
<h2>Quiz</h2>
<p>1. Which logic lights LED 1 when either button is pressed?</p>
<button onclick="wrong(this)">AND</button>
<button onclick="correct(this)">OR</button>

<p>2. Which logic lights LED 2 only when both buttons are pressed?</p>
<button onclick="correct(this)">AND</button>
<button onclick="wrong(this)">OR</button>

<p>3. What prevents a floating pin?</p>
<button onclick="correct(this)">Pull-up / Pull-down resistor</button>
<button onclick="wrong(this)">Nothing</button>

<p id="quizResult"></p>
<a id="nextLesson" class="next hidden" href="lesson3.html">Go to Lesson 3 →</a>
</div>

</div>

<script>
// Demo 1
let btn1State = false;
function pressButton(num){
  btn1State = !btn1State;
  const led1 = document.getElementById("led1");
  const wire1 = document.getElementById("wire1");
  const state = document.getElementById("stateText1");
  const btn = document.getElementById("btn1");
  btn.setAttribute("class", btn1State?"button-on":"button-off");
  if(btn1State){
    led1.setAttribute("class","led-on");
    wire1.classList.add("flow");
    state.innerText="Button pressed → LED ON";
  } else {
    led1.setAttribute("class","led-off");
    wire1.classList.remove("flow");
    state.innerText="Button released → LED OFF";
  }
}

// Demo 2
let btn2State = [false,false];
function pressTwoButtons(){
  btn2State[0]=!btn2State[0];
  btn2State[1]=!btn2State[1];
  const led2 = document.getElementById("led2");
  const state = document.getElementById("stateText2");
  const btnA = document.getElementById("btn2a");
  const btnB = document.getElementById("btn2b");
  btnA.setAttribute("class", btn2State[0]?"button-on":"button-off");
  btnB.setAttribute("class", btn2State[1]?"button-on":"button-off");
  if(btn2State[0] || btn2State[1]) led2.setAttribute("class","led-on");
  else led2.setAttribute("class","led-off");
  state.innerText=`Button1: ${btn2State[0]? "Pressed":"Released"}, Button2: ${btn2State[1]? "Pressed":"Released"}`;
}

// Demo 3
let btn3State=[false,false];
function pressThreeButtons(){
  btn3State[0]=!btn3State[0];
  btn3State[1]=!btn3State[1];
  const led3=document.getElementById("led3");
  const state=document.getElementById("stateText3");
  const btnA=document.getElementById("btn3a");
  const btnB=document.getElementById("btn3b");
  btnA.setAttribute("class",btn3State[0]?"button-on":"button-off");
  btnB.setAttribute("class",btn3State[1]?"button-on":"button-off");
  if(btn3State[0] && btn3State[1]) led3.setAttribute("class","led-on");
  else led3.setAttribute("class","led-off");
  state.innerText=`Button1: ${btn3State[0]? "Pressed":"Released"}, Button2: ${btn3State[1]? "Pressed":"Released"}`;
}

// Quiz
function correct(btn){
  btn.classList.add("correct");
  document.getElementById("quizResult").innerText="✅ Correct!";
  document.getElementById("nextLesson").classList.remove("hidden");
}
function wrong(btn){
  btn.classList.add("wrong");
  document.getElementById("quizResult").innerText="❌ Not correct. Try again.";
}

// Tooltips for buttons
const tooltip=document.createElement("div");
tooltip.classList.add("tooltip");
tooltip.innerText="Click a button to simulate HIGH input.";
document.body.appendChild(tooltip);
const buttons=[document.getElementById("btn1"),document.getElementById("btn2a"),document.getElementById("btn2b"),document.getElementById("btn3a"),document.getElementById("btn3b")];
buttons.forEach(btn=>{
  btn.addEventListener("mouseenter",(e)=>{
    tooltip.style.display="block";
    tooltip.style.left=e.pageX+10+"px";
    tooltip.style.top=e.pageY+10+"px";
  });
  btn.addEventListener("mouseleave",()=>{tooltip.style.display="none";});
});
</script>
</body>
</html>
